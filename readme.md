
🎮 UE 多人战斗与通知框架这是一个基于虚幻引擎开发的高性能的多人对战框架，集成了完善的战斗逻辑、服务器同步、AI采集机制，以及一个支持深度预览的C++红点通知子系统。🚀核心系统模块1.核心战斗与生命值管理（战斗&生命）项目实现了严谨的服务器授权（服务器授权）战斗逻辑：伤害处理：通过Event AnyDamage统一处理，由服务器判断权限（Switch Has Authority），确保数值安全。死亡表现：集成了Ragdoll（物理布娃娃）系统与物理模拟切换，死亡时自动卸载控制权（Un Possess）。UI同步：实时更新WBP_EnemyHealth详情条，并根据胜负状态动态弹出游戏结束结算界面。2. 多人连接与射击机制（Networking & Weaponry）RPC触发逻辑：使用Server_Fire自定义事件进行客户端到服务器的光线检测(Line Trace)请求。光束检测系统：包含玩家的手动射击与AI的自动寻敌光束，支持枪口套筒位置校验。动态装备：在BeginPlay时通过服务器生成武器并自动附加（Attach）到角色的GripPoint插槽。3. AI 感知与行为（AI System）视觉感知：利用Pawn Sensing组件实现 AI 发现玩家的功能。行为树逻辑预览： AI具备自动寻路( AIMoveTo)、旋转前端玩家并执行AI_Fire的完整闭环行为。自动重启：在GameMode中实现了OnPostLogin逻辑，支持自动清理旧Actor并重新生成玩家。4. 端口接口集成（VaRest & Heartbeat）项目通过VaRest插件实现了轻量级的通讯：心率包：通过Set Timer by Event周期性发送心率JSON数据，包含用户名与地址。动态数据拉取：异步请求red_dots列表，添加返回的JSON队列解析为游戏内部逻辑。🔴 深度特性：红点子系统 (C++ Red Dot Subsystem)项目内置了一个纯 C++ 编写的URedDotSubsystem（继承自UGameInstanceSubsystem），用于处理复杂的 UI 提示逻辑。系统架构特性描述树形结构支持父子节点导航（RegisterNode），子节点更新会自动引起父子节点“冒泡”变化。冒泡更新 (Bubble-up)计算增量(Delta)，迭代更新所有矩阵的父节点迭代，从中手动遍历。解耦合设计采用FOnRedDotChanged动态多播委托，UI仅在数值变化时亮度刷新，性能极佳。持久化GameInstanceSubsystem存在，生命周期贯穿作为整个游戏进程。🛠 技术栈引擎：虚幻引擎 5.x / 4.2x语言： C++，蓝图插件： VaRest（REST API 支持）架构：子系统驱动、基于事件的 UI 更新📂 关键文件索引RedDotSubsystem.h/cpp：红点系统核心逻辑。BP_FirstPersonCharacter：玩家输入与测量逻辑封装。BP_Enemy: AI逻辑、生命值计算与死亡表现。WBP_ActivityCenter：结合红点系统的动态UI容器。
